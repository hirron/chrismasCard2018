<!DOCTYPE html>

<head>

<style>
  body {background-color: #000066;
        color: white;
        }
  button {
        height: 40px;
        margin-top: 5px;
        }
</style>

</head>

<body>
  <p id = "wishes">This worked out well</p>
  <canvas id="myCanvas" width="800px" height="500" style="border:1px solid #000000;">
  Your browser does not support the HTML5 canvas tag.
  </canvas>

  <div>
    <button type="button" name="button" onclick="AddWish()">Add A Wish</button>
    <input type="text" id="Wish" style = "height: 40px;">
  </div>

  <button type="button" name="button" onclick="Fireworks()">Happy New Years</button>
</body>

<script type="text/javascript">
function AddWish(){
  var http = new XMLHttpRequest();
  var url = 'https://patersonchrismas.azurewebsites.net/goals';
  var params = 'message='+document.getElementById(Wish).value;
  http.open('POST', url, true);

  //Send the proper header information along with the request
  http.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');

  http.onreadystatechange = function() {//Call a function when the state changes.
      if(http.readyState == 4 && http.status == 200) {
          alert(http.responseText);
      }
  }
  http.send(params);
}

function Fireworks(){
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      document.getElementById("wishes").innerHTML = this.responseText;
    }
  };
  xhttp.open("GET", "https://patersonchrismas.azurewebsites.net/goals", true);
  xhttp.send();
}

</script>
