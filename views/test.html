<!DOCTYPE html>

<head>

 <title>Happy New Years</title>

<style>
  body {background-color: #000066;
        color: white;
        }
  button {
        height: 40px;
        margin-top: 5px;
        }
</style>

</head>

<body>
  <p id = "wishes"></p>
  <canvas id="myCanvas" width="800px" height="500" style="border:1px solid #000000;">
  Your browser does not support the HTML5 canvas tag.
  </canvas>
  <p id = "conStatus"></p>
  <div>
    <button type="button" name="button" onclick="AddWish()">Add A Wish</button>
    <input type="text" id="wish" style = "height: 40px;">
  </div>

  <button type="button" name="button" onclick="Fireworks()">Happy New Years</button>
  <button type="button" name="button" onclick="FireworksCont()">Next Goal</button>
</body>

<script type="text/javascript">
var GoalList;


function AddWish(){
  var http = new XMLHttpRequest();
  var url = 'https://patersonchrismas.azurewebsites.net/goals';
  var params = 'message='+document.getElementById("wish").value;
  http.open('POST', url, true);

  //Send the proper header information along with the request
  http.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');

  http.onreadystatechange = function() {//Call a function when the state changes.
      if(http.readyState == 4 && http.status == 200) {
          document.getElementById("conStatus").innerHTML = "Successfully submitted your goal";
      }
  }
  http.send(params);
}

function Fireworks(){
  var http = new XMLHttpRequest();
  http.open("GET", "https://patersonchrismas.azurewebsites.net/goals", true);

  http.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      GoalList = this.responseText;
      document.getElementById("wishes").innerHTML = GoalList;

      document.getElementById("conStatus").innerHTML = "More Goals, just press the button";
    }
  };

  http.send();
}

function FireworksCont(){

}

</script>
